---
layout: post
title: Who invented CDMA
date: 2006-12-25 10:22
comments: true
categories:
- cdma
---
<p class="MsoNormal">I found following information very useful in result adding it onto my site.</p>
<p class="MsoNormal"><strong>This article is taken from <a href="http://denbeste.nu/cd_log_entries/2002/10/GSM3G.shtml" title="Visit the source of this article" target="_blank">here</a>  as it was posted without changing a single bit. </strong></p>
<p class="MsoNormal">&nbsp;</p>
<font face="HandelGothic BT">(On Screen):</font> As I think many of my readers know, I used to work for Qualcomm designing cell phones. Qualcomm is the company which invented CDMA, and made it practical, and made it into a market success, and it now dominates the American market, where Verizon and Sprint both use it. There are two other nationwide cellular systems: AT&amp;T currently uses IS-136 TDMA, which is obsolete and has no upgrade path. Cingular uses GSM, a more sophisticated form of TDMA from Europe.

And right now I'm basking in the evil glow of a major case of schadenfreude.

The original cell phones were analog, using fairly straightforward FM for voice communication. When your phone was in a call, it was granted a frequency by the cell and used it exclusively for the entire duration of the call. FM encoding is extremely inefficient in use of bandwidth, and spectrum was scarce and expensive, and it rapidly became clear that FM wasn't able to handle the traffic which was expected and which was really needed to make cellular telephony a profitable business. One obvious approach was to use digital communications, and to take advantage of advances in microprocessor and digital IC technology to compress the voice traffic going both directions, and thus you saw deployment of the first Time Division Multiple Access (TDMA) digital systems. What they do is to take a single channel and timeshare it among several phones, who digitize and compress their voice traffic and transceive it during their timeslice. With IS-136, a 30 KHz channel which had carried only one voice call with AMPS could now carry three digitized calls.

GSM went further than that, and abandoned the old channel size entirely. It allocated 200 KHz channels and divided them into 8 slices, giving each phone somewhat less than 25 KHz effective bandwidth. (There are some losses due to time guardbands and protocol overhead.)

GSM also included a very powerful set of features above that, and included some interesting features not directly associated with the RF link, such as a personality module which contained a customer's phone number and billing information that could be moved to another phone any time the customer wished to. (That particular featured turned out to be a decidedly mixed blessing. While that ability was very convenient for legitimate customers, it was also a magnet for thieves and frauds.)

GSM was clearly superior to IS-136 or such abortions as IDEN (a Motorola design which never became an industry standard because Moto was never willing to license it, which meant that systems which adopted it could only get infrastructure and handsets from Motorola).

In Europe, various governments decided that they (the Europeans) had designed the ultimate digital cellular system, and they passed laws making it illegal to deploy anything except GSM, whose primary supporters/suppliers were Nokia, Ericsson, Siemens and Alcatel.

Meanwhile, the FCC decided that it would not mandate any industry standard. It granted licenses for spectrum but permitted the licensee to choose whatever equipment and standard it wanted. (Within limits. There were certain certification standards required by the FCC to guarantee safety and to avoid interference between neighboring systems.)

And all through the 90's, me and everyone else in the US cell phone industry put up with constant ragging from Europeans about the evident virtues of GSM and the equally evident virtues of a government mandated standard. While in the US you had what seemed at the time to be utter chaos, with a huge number of small companies using a bewildering array of different standards, in Europe anyone could carry their phone almost anywhere in the continent, and if they couldn't use it they could move their personality module into a local phone and use that.

Of course, that apparent chaos in the US was only a temporary phenomenon, and I think maybe the FCC and the rest of the government knew it would be. There's always shakeout, but in the meantime this kind of government policy of keeping hands off meant that the industry was given broad ability to experiment. And within that environment, early in the 1990's, the founders of my former employer Qualcomm began to work on a radically different way to handle cell phones called Code Division Multiple Access, or CDMA. It's radical in many, many ways but by far the most obvious is that all the phones in the system and all the cells in the system operate simultaneously on the same carrier frequency. They don't "take turns" because <a href="http://denbeste.nu/cd_log_entries/2002/04/Howspreadingactuallyworks.shtml">they don't need to</a>.

In the computer industry we talk about the "ISO seven layer model", where the process of communication is modularized and each layer uses the one below it without worrying how the lower layer actually works. TCP works whether the physical layer is 802.11b or ethernet or something else entirely, and TCP itself doesn't change based on that. TCP uses IP, and IP uses the datalink layer, and the problems of the physical layer are dealt with by the datalink layer. But if the physical layer is a 56 KBaud modem, then there are things which won't be possible, which might be possible with 100 megabit ethernet. No amount of work at higher levels can compensate for the fundamental superiority of ethernet over a telephone modem.

Cell phone protocols do the same kind of thing. There's an RF layer and protocols above that, some of which can be very high level and quite abstract, such as the one which controls sending of text messages. However, the change from analog to TDMA was a change at the RF layer. CDMA was yet another approach to the RF layer, which was radically different again. (IS-95 is a specification for a complete protocol stack which includes CDMA as its RF layer.)

In fact, CDMA was so revolutionary that when it was first discussed, many thought it couldn't be made to work. Indeed, at least one European company deeply involved with GSM, Ericsson, went through the three classic stages of Not Invented Here syndrome:
<blockquote>1. It's impossible.
2. It's infeasible.
3. Actually, we thought of it first.</blockquote>
When I worked for Qualcomm, I had to soft pedal this. Now I'm no longer associated with the company, and I can vent about those idiots. At first, the most vocal top brains at Ericsson tried to claim that CDMA violated information theory.

In IS-95 CDMA, a single carrier frequency has a bandwidth of 1.2288 MHz, and up to 40 cell phones in a given sector can all be transmitting chips at that rate on the same carrier frequency, which seemed on first examination to assume that it was possible to send fifty million bits through a one-and-a-quarter MHz band, which would indeed violate Shannon. The mistake they made was that chips aren't "information" based on Shannon's definition, and though those phones were sending chips that fast, they were actually sending <em>bits</em> (<u>real</u> data) at no more than 14,400 bits per second each. (I'll try not to get too bogged down in technical details here, but to some extent it's unavoidable.)

Unfortunately, Qualcomm did a field test in New York City where several prototype phones mounted in vans were able to operate at once on the same frequency talking to multiple cells all of which also operated on the same frequency.

The next argument was that though it seemed technically possible, it would be too expensive. Everyone knew that the electronics required to make CDMA work was a lot more complicated than what TDMA used, and Ericsson's loud voices claimed that it could never be reduced in price enough to make it competitive. And shortly thereafter Qualcomm proved that wrong, too, by beginning to produce both infrastructure and phones at very competitive prices. (Qualcomm did this to bootstrap the industry. It's no longer in either business.)

After which Ericsson suddenly decided that it had applicable patents and took Qualcomm to court. Over the long drawn out process of litigation, <em>every single preliminary court judgment went in favor of Qualcomm</em>, and it became obvious that Ericsson didn't have a case and that Qualcomm wasn't going to be intimidated. Ultimately, the entire case was settled in a massive omnibus agreement where Ericsson became the last of the large companies in the industry to license Qualcomm's patents (on the same royalty terms as everyone else) while taking a large money-losing division off Qualcomm's hands and assuming all the liabilities associated with it, and granting Qualcomm a full license for GSM technology. The industry consensus was that this represented a fullscale surrender by Ericsson.

Nokia wasn't anything like as foolish and had licensed several years before. (Just in passing, the fools at Ericsson are in the front office. Their engineers are as good as anyone else's.)

Still, in the years of apparent chaos in the US, when loud voices in Europe proclaimed the clear advantage of a single continental standard, order began to appear out of the chaos here. Small companies using the same standards set up roaming agreements, and then started merging into larger companies, which merged into yet larger ones. One company (Sprint) started from scratch to build nationwide coverage. Bell Atlantic Mobile acquired GTE Mobile (who had been a joint partner in PrimeCo), and eventually merged with Airtouch to form Verizon, all of which was based on IS-95 CDMA, mostly on 800 MHz. Sprint eventually implemented a reasonable nationwide system also based on CDMA. The last major nationwide system to form was Cingular, after the various GSM carriers in the US realized they were in big trouble competing against Verizon and Sprint and AT&amp;T (which uses IS-136).

Once the existence and commercial feasibility of CDMA were established beyond doubt, other aspects of it began to become clear. At the RF layer, CDMA was obviously drastically superior to any kind of TDMA. For one thing, in any cellular system which had three or more cells, CDMA could carry far more traffic within a given allocation of spectrum than any form of TDMA. (Depending on the physical circumstances, it's usually three times as much but it can be as much as five times.) For another, CDMA was designed from the very beginning to dynamically allocate spectrum.

In TDMA, a given phone in a given voice call is allocated a certain fixed amount of bandwidth whether it needs it or not. In IS-136 that's a bit less than 10 KHz, in GSM it's somewhat less than 25 KHz. (Going each direction; the total is twice that.) But humans don't use bandwidth that way; when you're talking, I'm mostly listening. So your 25 KHz channel to me is carrying your voice, and my 25 KHz channel to you is carrying the sound of me listening to you silently.

In CDMA, the amount of bandwidth that a given phone uses changes 50 times per second, and can vary over a scale of 8:1. When I'm silent, I'm only use 1/8th of the peak bandwidth I use when I'm talking. (But I don't actually send full rate most of the time even when I'm speaking.) That's very useful for voice but it's <em>essential</em> for data which tends to be extremely bursty, and CDMA was born able to do this. It's always had that capability. It's also always had the ability for different phones to be given different overall allocations of bandwidth, because the initial standard included both 8K and 13K codecs (which respectively use 9600 baud and 14,400 baud). So when higher data rates were desired, it was possible to augment the cell and create new cell phones which could transmit 56 kilobits per second using the same frequency as existing handsets.

When GSM wanted to do that (send data at a rate faster than the existing voice channel supported), they ended up having to allocate an entirely new carrier just for that job, which handled nothing except data, and to deploy entirely new infrastructure for it. The resulting system is called GPRS, and in many ways it turned out to be very unsatisfactory for the operating companies because it's really expensive to deploy and because it cuts down on the bandwidth they have available for voice. A given chunk of spectrum must be permanently assigned to one or the other; it can't be reallocated dynamically. Data and voice in CDMA, on the other hand, both use the same carrier and bandwidth is reallocated between the two 50 times per second automatically, and you can implement high speed data without having to install new transmitters in all the cells.

With the push to greater and greater data rates, everyone recognized that a new generation of cellular equipment would be needed, the legendary 3G.

And for the reasons given above, and several others, it was equally clear that it had to use a CDMA air interface. GSM was the very best propeller-driven fighter money could buy, but CDMA was a jet engine, and ultimately TDMA could not compete. The fundamental weakness of TDMA at the RF layer could not be compensated for at any layer higher than that, no matter how well designed it was. GSM/TDMA was a dead end, and to create 3G, Europe's electronics companies were going to have to swallow their pride and admit that Qualcomm had been right all along.

<a href="http://www.economist.com/business/displayStory.cfm?story_id=1353050">This article in the Economist</a> says that it's not going well. When Qualcomm and its partners designed a new 3G system with new capabilities, they were able to make it backward compatible with IS-95. The new standard is called CDMA 2000, and a CDMA2K handset can work with IS-95 infrastructure, and an IS-95 handset can work with CDMA2K infrastructure, and CDMA2K cells can sit next to IS-95 cells and use the same frequencies. Thus existing operating companies using IS-95 can upgrade incrementally replacing individual cells as budget allows and selling new handsets without having to wholesale replace all existing ones at once. Most important of all, it means that you can take an existing system using an existing spectrum license, and phase it over without acquiring any new spectrum.

None of that is true for GSM. CDMA and TDMA are fundamentally incompatible and there's no way to create a new system (which they're calling WCDMA) which can support existing TDMA handsets. It's technically impossible for the new standard to be backward compatible. Worse is that there's no easy way to phase existing spectrum over. In practice, when WCDMA appears, existing GSM systems will have to install it all, issue new handsets to all customers, and then one day throw a switch -- or else they'll have to license new spectrum for WCDMA while continuing to run GSM on the existing spectrum for legacy customers. It's all going to be very ugly when it happens. (Note: It is possible to design new WCDMA handsets so that they are capable of working with old GSM/TDMA infrastructure, but it adds substantially to the cost of the unit. It is not possible at all to make WCDMA infrastructure work with GSM/TDMA handsets.)

<u>If</u> it happens, for the other thing they're discovering over across the pond is that making CDMA work is a lot harder than they thought it was. They're having technical problems. <a href="http://www.economist.com/business/displayStory.cfm?story_id=1353050">This article</a> talks about the experience that DoCoMo had in Japan when it deployed the first WCDMA system in the world. It <em>doesn't</em> mention that DoCoMo has had to recall and replace thousands of handsets at its own expense when it was discovered that the handsets had fatal technical problems which could not be fixed. (In fact, DoCoMo had to do this <em>twice</em>. Both times were fantastically expensive, and both times represented really bad public relations fiascos. DoCoMo's name is mud in Japan now; they may never fully recover.)

CDMA2K, on the other hand, is real and it works now. Commercial shipments of infrastructure and handsets began a long time ago. Both Sprint and Verizon began their conversion process more than a year ago, and it's been deployed elsewhere in the world (such a by DoCoMo's rival KDDI) and what everyone is discovering is that it works. The transition is clean. There haven't been any unfortunate surprises.

And it works pretty damned well. (In Japan, half the handsets have cameras in them and their users send each other pictures.)

On the other hand, in Europe the service providers are in deep trouble. They spent truly vast amounts of money on licenses for new spectrum which they can't actually use yet. The licenses specify that they can only be used for WCDMA, and none of the equipment suppliers are actually ready for deployment. Some of the operating companies are talking about giving the licenses back.

And others are beginning to ask if they can have permission to deploy CDMA2K instead, but the bureaucrats in the EU aren't having any of it. Yet.

I confess to a deep feeling of satisfaction about this on a personal level, primarily because of all the horseshit I put up with from GSM fans over the years when they talked about how superior the European approach to this was.

The thing is that if the US had followed the same policy, CDMA would never have been given the chance to prove itself. We now have just as good of nationwide systems and just as much portability as the Europeans do, only our system is fundamentally better. GSM has many features which are marvelous, but they can eventually be grafted onto IS-95 and CDMA2K, because they're all implemented at high protocol levels or don't have anything to do with the RF link. IS-95 and CDMA2K have many cool features, too, but it isn't possible to implement them on a TDMA air interface, so the only way that GSM can have those features is to toss TDMA and switch, which is what they're now trying to do.

So I'm sitting here basking in the warm glow of schadenfreude because nemesis has caught up with European hubris in the cell phone industry.

But there's more to this, because in the microscopic this turns out to be a morality tale which more broadly shows the difference in approaches to most things between the Europeans and the Americans, and I think demonstrates quite clearly why our way is more successful.

Though the adoption of a continent-wide standard for Europe in the 1990's did have certain benefits, it also had some hidden prices. It gave them compatibility, but it was also protectionism, and as is always the case with industries shielded by protectionism, the European cell phone companies became arrogant and complacent, and as a result they fell badly behind. Now they're trying to catch up, and it isn't turning out to be easy. They licensed Qualcomm's patents, but what they're now discovering is that Qualcomm didn't patent everything it knows about making CDMA work, and that it's a <em>really difficult problem.</em> (Damned straight it is. We know a hell of a lot we're not telling. It's pretty straightforward to make it work badly and unreliably, using a lot of battery power. Making it work well on low power is damned tough, and that knowledge is not for sale.)

Part of their problem is that they're trying to run before they've learned to walk. Qualcomm and its partners are moving to CDMA2K after many years of working with IS-95, but the GSM coalition is jumping straight into WCDMA cold.

Like all protected industries, the GSM companies didn't make the investment they should have early enough. Part of why they're way behind is that they started late, and much of <em>that</em> was because of ego, because they didn't want to admit that Qualcomm had been right (or to pay Qualcomm royalties). So they lost two full years in lawsuits and negotiations with Qualcomm before the real design process could begin. And then they discovered that the problem was harder than it looked. As it now stands, it's going to be an interesting question to see whether they can ever get it to work (especially to get interoperability), and more importantly, even if they do to see whether they will be too late and will have missed the market window. I think they will make it work, but I think it will be too late.

Here are some of the lessons I see in this.

First, Europe pulled this decision up to as high a level as it could. When the legal mandate to use GSM was passed, the EU didn't yet exist. Individual nations each passed such laws based on a consensus. In the US, that decision was pushed <em>down</em> as far as possible, and the superiority of CDMA over any TDMA-based system was decided by millions of cell phone users who voted with their wallets.

Second, Europe tried to stop the clock. It decided that it had the final answer with GSM and that no further experimentation was necessary because no further improvement was possible. In the US, the government kept its hands off, and in fact if another newer system comes along which is superior to CDMA, it will have the same opportunity commercially that CDMA had. (Not quite; the market has evolved and we're into the "standardization and shakeout" phase now. But there won't be any government mandate preventing it.)

Europe emphasized cooperation over competition, consensus and agreement over "let's try it and see what happens". It was viewed as important that there be compatibility over the whole continent, and to achieve that they outlawed competition. In the US, we valued competition, and ironically we not only ended up with compatibility over the whole continent but got that compatibility with a superior system which emerged out of competition.

Despite claims to the contrary, Europe passed those laws in part precisely because the standard which was being protected was European and most of the equipment which would be used was homegrown. Part of why those laws were passed was to lock out the US. (Some American companies made GSM equipment, but they never had much market share in Europe.) In the US, everyone was free to compete, and for quite a while the largest seller of handsets here was Nokia. GSM was deployed here and attempted to compete against CDMA on a level playing field, and got handed its ass.

GSM fans will point out that GSM is more broadly deployed elsewhere in the world than IS-95. They'll be careful not to point out the extent to which bribery played a role in that. (Things like "If you choose GSM over CDMA, we'll build a factory there" which is how GSM mostly won in Brazil.)

But that kind of thing is ultimately self-defeating, and TDMA/GSM isn't going to be competitive against CDMA2K, and the Europeans can't make WCDMA work reliably. And as a result of that, a lot of the cellular telecom companies in Europe are in deep financial trouble, not to mention facing legal deadlines for deployment of 3G which cannot possibly be met. MobilCom in Germany is near death, for example, and <a href="http://www.theregister.co.uk/content/7/27335.html">just announced</a> that it would lay off 40% of its staff. Apparently it would already be dead were it not for a €400 million loan from the German government, which has angered the EU. And because the telecom companies in Europe are all so heavily cross invested, this is a cascading problem. Part of why Mobilcom is in trouble is because France Telecom SA is in trouble and had to renege on an investment commitment. You're eventually going to see a chain-reaction sequence of commercial failures as the money runs out, or more likely you'll see huge government subsidies.

Both these articles say that CDMA2K is "controlled by Qualcomm". That's true and not true. There's an industry standards body, and Qualcomm is probably the most important and influential member of it. It's also true that most of the CDMA2K proposal came out of Qualcomm. But the members of that standards body understand that they're going to get further by cooperation than by competition, and there's very much a "can do" attitude there which helped get a standard approved a long time ago. Qualcomm's proposal wasn't predatory. (By comparison, Sun's Java standards have been predatory, because part of the goal is to keep Sun the largest player in the Java business. Qualcomm is not the largest player in CDMA and probably never will be.) There's also heavy emphasis on interoperability and testing and standards compliance, and there is an independent testing laboratory, which even Qualcomm uses to verify its own products.

Another of the ironies in this is that "cooperative" Europe has turned out not to be cooperating as well as "competitive America". The companies involved in the CDMA2K process are cooperating closely because it's in their own best interest to do so, not because of some sort of fuzzy philosophy of "cooperation and centralization are good things". The companies in the CDMA2K process are cooperating because they know they'll be killed if they don't, not to mention the fact that they smell GSM's blood.

This kind of thing has played out much the same way hundreds of times before between Europe and the US, and nearly always it's had the same result. And as Europe increasingly centralizes and "harmonizes" and moves more and more authority to Brussels, it's going to keep happening. Decisions will be made from the center, and a lot of the time they'll be made wrongly because the "center" is not the infinite repository of all wisdom. The "center" chose GSM/TDMA to be the winner; America decided to let the market figure out the winner, and it didn't turn out to be GSM/TDMA.

European centralization turned out to be a competitive advantage – for the US. And that's going to keep happening. If I was vicious and wanted to wish failure and misery on Europe, I could think of nothing better to inflict it than the process going on now whereby more and more authority will move to Brussels to be used by unelected bureaucrats who answer to no one.

Update 20021006: <a href="http://michaeljennings.blogspot.com/2002_10_06_michaeljennings_archive.html#82598395">Michael Jennings offers his perspective</a>. He was involved in the cellular industry in Australia and saw the same GSM arrogance I put up with.

Update: Though the EU didn't exist then, the GSM mandate came from the EC rather than being passed by individual nations.

Update 20021007: Slashdot has noticed this article (and as I write this my server is being hammered and my 768 kilobit uplink is saturated. There seems to be some confusion about how certain acronyms are being used, so let's see if I can't help it out.

"CDMA" refers to an air interface. "TDMA" refers to a different air interface.

Some people have used "CDMA" to refer to the full protocol stack which is properly known as IS-95. Equally, some people use "TDMA" to refer to the full protocol stack which is properly known as IS-136. That's because each of those was the first to use their respective air interfaces. But GSM also uses a TDMA air interface, and both UMTS (also known as W-CDMA) and CDMA 2000 also use CDMA air interfaces. (Which is why saying "GSM is better than TDMA" is logically absurd; GSM is a form of TDMA, because it uses a TDMA air interface. What that person really meant was that GSM is better than IS-136, which is definitely true. IS-136 is easily the weakest and most inferior of the digital standards.)

UMTS is another name for W-CDMA and is also known as GSM 3G. It uses a modification of the GSM protocol stack and replaces the TDMA air interface with a CDMA air interface.

The CDMA air interface has won over the TDMA air interface. TDMA as an air interface is now obsolescent. That's no longer in doubt; no one is designing new TDMA systems. My point goes further: I think that the CDMA 2000 protocol may well defeat UMTS/W-CDMA/GSM 3G protocol because UMTS is late to market and getting later. GSM in large part did better than IS-95 because it was available earlier, and now CDMA2K has that same advantage over UMTS/W-CDMA/GSM 3G.

One poster there commented that UMTS hadn't been rolled out yet and thus it wasn't fair to say that it was in trouble. But the reason it's in trouble is that it's behind schedule. It was <em>supposed</em> to have been rolled out by now, and some of the service providers in Europe have cells ready to go, lonely buildings with antennas and power and data link and nothing inside because they can't get the equipment they expected to have by now. Which is part of why they're in deep financial trouble: they've already made their investment and aren't getting any payback. And part of why it's late is that the first round of equipment, which was expected to be produced in quantity, was tried by DoCoMo in Japan and it failed miserably. So everyone's stuck in a redesign cycle while the clock ticks and the customers bleed money and CDMA2K keeps looking better and better.
